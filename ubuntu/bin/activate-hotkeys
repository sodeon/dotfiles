#!/bin/bash -ue

activate-hotkeys() {
    # Kill residual xcape/xbindkeys processes
    pgrep xbindkeys > /dev/null && pkill xbindkeys
    pgrep xcape     > /dev/null && pkill xcape

    # Modifiers
    xmodmap ~/.Xmodmap
    xcape -e "Hyper_L=Escape;Super_L=Super_L|F12"

    # Keybindings
    cat ~/.config/xbindkeys/keyboard > /tmp/xbindkeysrc
    if xinput --list --short | grep -q "M720.*pointer"; then
        cat ~/.config/xbindkeys/logitech-m720 >> /tmp/xbindkeysrc
    fi
    xbindkeys -f /tmp/xbindkeysrc
}

# setup-mouse-touchpad-movement-speed() {
#     set +e
#     setup-logitech-m720 -q
#     setup-asus-b9440ua-touchpad -q
#     set -e
# }


# 
# Main
#
activate-hotkeys
# setup-mouse-touchpad-movement-speed
